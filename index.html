<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Configurator Comparison</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 960px; margin: 2rem auto; }
    h1 { color: #EE3124; }
    .controls { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; }
    label { display: block; margin-top: 0.5rem; font-weight: bold; }
    select { width: 100%; padding: 0.4rem; font-size: 0.95rem; }
    .slot { flex: 1 1 220px; }
    .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
    .card { border: 2px solid #EE3124; border-radius: 8px; padding: 1rem; }
    .card img { max-width: 100%; height: auto; }
    .card h2 { margin: 0.5rem 0; font-size: 1.1rem; }
    .card p { margin: 0.3rem 0; font-size: 0.9rem; }
  </style>
</head>
<body>
  <h1>Lexis+ Product Configurator Comparison</h1>

  <label for="stateGroup">Client State Group</label>
  <select id="stateGroup">
    <option disabled selected>— Select a State Group —</option>
  </select>

  <div class="controls" id="selectors">
    <!-- Four comparison slots -->
    <div class="slot" id="slot1">
      <label>Platform</label>
      <select id="platform1" disabled><option disabled selected>— Select Platform —</option><option>Lexis+</option><option>Lexis+ AI</option></select>
      <label>Category</label>
      <select id="tier1" disabled><option disabled selected>— Select Category —</option></select>
    </div>
    <div class="slot" id="slot2">
      <label>Platform</label>
      <select id="platform2" disabled><option disabled selected>— Select Platform —</option><option>Lexis+</option><option>Lexis+ AI</option></select>
      <label>Category</label>
      <select id="tier2" disabled><option disabled selected>— Select Category —</option></select>
    </div>
    <div class="slot" id="slot3">
      <label>Platform</label>
      <select id="platform3" disabled><option disabled selected>— Select Platform —</option><option>Lexis+</option><option>Lexis+ AI</option></select>
      <label>Category</label>
      <select id="tier3" disabled><option disabled selected>— Select Category —</option></select>
    </div>
    <div class="slot" id="slot4">
      <label>Platform</label>
      <select id="platform4" disabled><option disabled selected>— Select Platform —</option><option>Lexis+</option><option>Lexis+ AI</option></select>
      <label>Category</label>
      <select id="tier4" disabled><option disabled selected>— Select Category —</option></select>
    </div>
  </div>

  <div class="cards-grid" id="cards">
    <!-- Cards will be injected here -->
  </div>

  <script>
    // State groups and tiers
    const stateGroups = {
      "Group A": ["AL","AZ","CA","CO","CT","FL","GA","IL","IN","MA","MD","MI","MN","MO","LA","NJ","NV","NY","OH","OR","PA","TN","TX","VA","WA","WI"],
      "Group C": ["AK","ND","NM","SD","MT","WY"],
      "Group D": ["AR","DE","HI","IA","ID","KS","KY","ME","MS","NC","NE","NH","OK","RI","UT","VT","WV"]
    };
    const tierMapping = {
      "Group A": ["State Essential","State Enhanced","State Professional","Premiere"],
      "Group C": ["State Essential","State Enhanced","State Professional","Premiere"],
      "Group D": ["State Essential","State Enhanced","State Professional","Premiere"]
    };
    const featuresByTier = {
      "State Essential": { price: "$100/mo", features: "State Briefs; Pleadings & Motions; State Jury Instructions", logo: "LexisPlus.png" },
      "State Enhanced": { price: "$150/mo", features: "All Essential + Federal Cases; Federal Legislative Materials; Templates; Practical Guidance", logo: "LexisPlus.png" },
      "State Professional": { price: "$200/mo", features: "All Enhanced + Analytics; News; Verdicts & Settlements; CourtLink", logo: "LexisPlus.png" },
      "Premiere": { price: "$250/mo", features: "All Professional + AI Summaries; Advanced Research Tools", logo: "LexisPlus.png" }
    };

    // DOM references
    const sgSelect = document.getElementById('stateGroup');
    const slots = [1,2,3,4].map(i => ({
      plat: document.getElementById('platform'+i),
      tier: document.getElementById('tier'+i)
    }));
    const cardsContainer = document.getElementById('cards');

    // Initialize state group dropdown
    Object.keys(stateGroups).forEach(g => { let o = new Option(g,g); sgSelect.add(o); });

    // On state group selection, enable all platform selects
    sgSelect.addEventListener('change', () => {
      slots.forEach(s => { s.plat.disabled = false; s.tier.disabled = true; s.plat.selectedIndex = 0; s.tier.innerHTML = '<option disabled selected>— Select Category —</option>'; });
      cardsContainer.innerHTML = '';
    });

    // For each slot, wire up platform -> tier, and tier -> card
    slots.forEach((s,i) => {
      s.plat.addEventListener('change', () => {
        const group = sgSelect.value;
        const allowed = tierMapping[group] || [];
        s.tier.innerHTML = '<option disabled selected>— Select Category —</option>';
        allowed.forEach(t => s.tier.add(new Option(t,t)));
        s.tier.disabled = false;
        updateCards();
      });
      s.tier.addEventListener('change', updateCards);
    });

    function updateCards() {
      cardsContainer.innerHTML = '';
      slots.forEach((s,i) => {
        const p = s.plat.value;
        const t = s.tier.value;
        if (p && t) {
          const data = featuresByTier[t];
          const card = document.createElement('div'); card.className = 'card';
          card.innerHTML = `
            <img src="${data.logo}" alt="Logo">
            <h2>${p} - ${t}</h2>
            <p><strong>Price:</strong> ${data.price}</p>
            <p><strong>Features:</strong> ${data.features}</p>
          `;
          cardsContainer.appendChild(card);
        }
      });
    }
  </script>
</body>
</html>
